---
import { Image } from 'astro:assets';
import ProjectsMarquee from '../components/ProjectsMarquee.astro';
import VerticalMarquee from '../components/VerticalMarquee.astro';
import * as i18n from '../i18n/utils';

import project_ll_main from '../assets/images/projects/legal-law-office/line-law.png';
import project_ll_1 from '../assets/images/projects/legal-law-office/image-1.png';
import project_ll_2 from '../assets/images/projects/legal-law-office/image-2.png';
import project_ll_mobile from '../assets/images/projects/legal-law-office/LineLaw-mobile-intro.png';
import project_ecp_main from '../assets/images/projects/legal-law-office/ECP.png';

import ecp_intro from '../assets/images/projects/ECP-consulting-group/ECP-mobile-intro.png';
import ecp_first from '../assets/images/projects/ECP-consulting-group/first-section-image.png';
import ecp_grid from '../assets/images/projects/ECP-consulting-group/grid-1.png';

import kase_carousel from '../assets/images/projects/KaseCap/KaseCab-image-carousel.png';
import kase_intro from '../assets/images/projects/KaseCap/KaseCap-intro.png';
import kase_blue from '../assets/images/projects/KaseCap/blue-butterfly.png';

import stanzza_main from '../assets/images/projects/Stanzza/Stanzza-carousel-image.png';
import stanzza_post1 from '../assets/images/projects/Stanzza/stanzza-post-01.png';

const projects = [
  { id: 1, image: project_ll_main, alt: 'LINEA LAW' },
  { id: 2, image: project_ll_1, alt: 'LINEA LAW' },
  { id: 3, image: project_ll_2, alt: 'LINEA LAW' },
  { id: 4, image: project_ll_mobile, alt: 'LINEA LAW' },
  { id: 5, image: project_ecp_main, alt: 'ECP' },
  { id: 6, image: ecp_intro, alt: 'ECP' },
  { id: 7, image: ecp_first, alt: 'ECP' },
  { id: 8, image: ecp_grid, alt: 'ECP' },
  { id: 9, image: kase_carousel, alt: 'KaseCab' },
  { id: 10, image: kase_intro, alt: 'KaseCab' },
  { id: 11, image: kase_blue, alt: 'KaseCab' },
  { id: 12, image: stanzza_main, alt: 'Stanzza' },
  { id: 13, image: stanzza_post1, alt: 'Stanzza' },
];

// Split projects into two columns for the vertical marquees, alternating to maximize variety
const column1 = projects.filter((_, i) => i % 2 === 0);
const column2 = projects.filter((_, i) => i % 2 === 1);
const lang = i18n.getLangFromUrl(Astro.url);
const t = i18n.useTranslations(lang);
const translatePath = i18n.useTranslatedPath(lang);
---

<section class="bg-[#13243c] py-4 md:py-6 lg:py-4 overflow-hidden">
  {/* Mobile Version - Horizontal Marquees */}
  <div class="lg:hidden">
    <div class="max-w-4xl mx-auto px-6 text-center mb-6">
      <h2 class="[font-family:'Bricolage_Grotesque',Helvetica] font-bold text-white text-3xl md:text-4xl mb-4 whitespace-pre-line">
        {t('serious.title')}
      </h2>

      <p class="[font-family:'Be_Vietnam',Helvetica] font-normal text-white/90 text-base md:text-lg leading-relaxed mb-6 max-w-xl mx-auto">
        {t('serious.text')}
      </p>
      <a 
        href={translatePath(`/${t('anchors.projects' as any)}`)}
        class="inline-block [font-family:'Be_Vietnam',Helvetica] font-semibold text-[#13243c] bg-white text-base md:text-lg rounded-full px-12 py-3 hover:bg-gray-100 transition-all duration-300"
      >
        {t('serious.cta')}
      </a>
    </div>

    {/* Row 1 - Scroll Left to Right */}
    <div class="mb-4">
      <ProjectsMarquee projects={projects} direction="left" />
    </div>

    {/* Row 2 - Scroll Right to Left */}
    <div>
      <ProjectsMarquee projects={projects} direction="right" />
    </div>
  </div>

  <div class="hidden lg:block">
    <div class="grid grid-cols-12 gap-0">
      
      <div class="col-span-5 px-8 xl:px-12 py-6 flex flex-col justify-center">
        <h2 class="[font-family:'Bricolage_Grotesque',Helvetica] font-bold text-white text-4xl xl:text-5xl mb-4 leading-tight whitespace-pre-line">
          {t('serious.title')}
        </h2>

        <p class="[font-family:'Be_Vietnam',Helvetica] font-normal text-white/90 text-lg leading-relaxed mb-6">
          {t('serious.text')}
        </p>
        <a 
          href={translatePath(`/${t('anchors.projects' as any)}`)}
          class="inline-block [font-family:'Be_Vietnam',Helvetica] font-semibold text-white bg-transparent text-lg rounded-full px-12 py-3 transition-all duration-300 w-fit hover:bg-white hover:text-[#13243c]"
          style="border: 2px solid white;"
        >
          {t('serious.cta')}
        </a>
      </div>

      <div class="col-span-7">
        <div class="grid grid-cols-2 gap-4 h-full">
          {/* Column 1 - Scroll Up */}
          <VerticalMarquee projects={column1} direction="up" />
          
          <VerticalMarquee projects={column2} direction="down" />
        </div>
      </div>

    </div>
  </div>

</section>
