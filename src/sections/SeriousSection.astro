---
import { Image } from 'astro:assets';

import project1 from '../assets/images/projects/project-1.png';
import project2 from '../assets/images/projects/project-2.jpg';
import project3 from '../assets/images/projects/project-3.jpg';
import project4 from '../assets/images/projects/project-4.jpg';

const projects = [
  { id: 1, image: project1, alt: 'Proyecto 1' },
  { id: 2, image: project2, alt: 'Proyecto 2' },
  { id: 3, image: project3, alt: 'Proyecto 3' },
  { id: 4, image: project4, alt: 'Proyecto 4' },
];
---

<section class="bg-[#13243c] py-16 md:py-20 overflow-hidden">
  <div class="max-w-4xl mx-auto px-6 text-center">
    <h2 class="[font-family:'Bricolage_Grotesque',Helvetica] font-bold text-white text-3xl md:text-4xl lg:text-5xl mb-6">
      Lo decimos<br />en serio:
    </h2>

    <p class="[font-family:'Be_Vietnam',Helvetica] font-normal text-white/90 text-base md:text-lg leading-relaxed mb-8 max-w-xl mx-auto">
      Cada proyecto que ves ac√° fue creado con estrategia y objetivos bien definidos.
    </p>

    <a 
      href="/proyectos"
      class="inline-block [font-family:'Be_Vietnam',Helvetica] font-semibold text-[#13243c] bg-white text-base md:text-lg rounded-full px-12 py-3 hover:bg-gray-100 transition-all duration-300 mb-12 md:mb-16"
    >
      Ver Proyectos
    </a>
  </div>

  <!-- Row 1 - Scroll Left -->
  <div class="relative w-full mb-4 overflow-hidden">
    <div class="flex animate-scroll-left">
      {[...projects, ...projects, ...projects].map((project) => (
        <div class="flex-shrink-0 w-[280px] md:w-[320px] mx-2">
          <div class="rounded-2xl overflow-hidden bg-white">
            <Image
              src={project.image}
              alt={project.alt}
              width={320}
              height={240}
              format="webp"
              quality={80}
              class="w-full h-[200px] md:h-[240px] object-cover"
              loading="lazy"
            />
          </div>
        </div>
      ))}
    </div>
  </div>

  <!-- Row 2 - Scroll Right -->
  <div class="relative w-full overflow-hidden">
    <div class="flex animate-scroll-right">
      {[...projects, ...projects, ...projects].map((project) => (
        <div class="flex-shrink-0 w-[280px] md:w-[320px] mx-2">
          <div class="rounded-2xl overflow-hidden bg-white">
            <Image
              src={project.image}
              alt={project.alt}
              width={320}
              height={240}
              format="webp"
              quality={80}
              class="w-full h-[200px] md:h-[240px] object-cover"
              loading="lazy"
            />
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  @keyframes scroll-left {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-33.333%);
    }
  }

  @keyframes scroll-right {
    0% {
      transform: translateX(-33.333%);
    }
    100% {
      transform: translateX(0);
    }
  }

  .animate-scroll-left {
    animation: scroll-left 30s linear infinite;
  }

  .animate-scroll-right {
    animation: scroll-right 30s linear infinite;
  }

  .animate-scroll-left:hover,
  .animate-scroll-right:hover {
    animation-play-state: paused;
  }
</style>
